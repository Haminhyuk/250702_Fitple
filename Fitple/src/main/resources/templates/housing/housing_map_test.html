<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>지도와 매물 리스트</title>
    <link rel="stylesheet" th:href="@{/housing/css/housing-map.css}">
</head>
<body>
<h2>임대 주택 정보</h2>
<div id="search-panel"><strong>지역 검색:</strong><select id="sido-select"></select><select id="sigungu-select"></select>
    <strong>호출 개수:</strong>
    <select id="num-of-rows-select">
        <option value="5">5개</option>
        <option value="10" selected>10개</option>
        <option value="25">25개</option>
    </select>
    <button id="search-btn">검색</button><button id="toggle-advanced-search-btn">상세 검색</button></div>
<div id="advanced-filter-panel">
    <div class="filter-group"><label>보증금(만원)</label><input type="number" id="min-deposit" placeholder="최소"><span>~</span><input type="number" id="max-deposit" placeholder="최대"></div>
    <div class="filter-group"><label>월세(만원)</label><input type="number" id="min-rent" placeholder="최소"><span>~</span><input type="number" id="max-rent" placeholder="최대"></div>
    <div class="filter-group"><label>전용면적(㎡)</label><input type="number" id="min-area" placeholder="최소"><span>~</span><input type="number" id="max-area" placeholder="최대"></div>
    <div class="filter-group preset-buttons"><label></label><button class="area-preset-btn" data-min="" data-max="33">~33㎡</button><button class="area-preset-btn" data-min="33" data-max="66">33~66㎡</button><button class="area-preset-btn" data-min="66" data-max="99">66~99㎡</button><button class="area-preset-btn" data-min="99" data-max="132">99~132㎡</button></div>
    <div class="filter-group"><label>주택유형</label>
        <div class="preset-buttons"><button class="type-filter-btn active" data-type="">전체</button><button class="type-filter-btn" data-type="다가구주택">다가구</button><button class="type-filter-btn" data-type="다세대주택">다세대</button><button class="type-filter-btn" data-type="아파트">아파트</button><button class="type-filter-btn" data-type="오피스텔">오피스텔</button><button class="type-filter-btn" data-type="etc">기타</button></div>
    </div>
    <div class="filter-group"><label></label><button id="apply-filter-btn">필터 적용</button><button id="reset-filter-btn">초기화</button></div>
</div>
<div id="info-panel">
    <div class="info-item">
        <span class="info-label">📍 현재 주소</span>
        <span id="info-addr"></span>
    </div>
    <div class="info-item">
        <span class="info-label">🌐 위도 / 경도</span>
        <span><span id="info-lat"></span>, <span id="info-lng"></span></span>
    </div>
    <div class="info-item">
        <span class="info-label">🔢 법정동 코드</span>
        <span id="info-code"></span>
    </div>
</div>
    <div id="main-container">
    <div id="map"></div>
    <div id="list-panel">
        <h3>매물 리스트</h3>
        <div id="loading-animation" style="display:none; text-align:center; padding:20px;">
            <div class="loader"></div>
            <p>검색 중입니다...</p>
        </div>
        <div id="list-content">
            <ul id="property-list"></ul>
        </div>
    </div>
</div>
<div id="modal-wrapper">
    <div id="modal-content">
        <div id="modal-header">
            <h2>매물 상세 정보</h2><button id="close-modal-btn">✖</button>
        </div>
        <div id="modal-body"></div>
    </div>
</div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=a0e30d98f6dfa0bc355f0bdba19e03da&libraries=services&autoload=false"></script>
<script th:src="@{/housing/js/housing-map.js}"></script>
</body>
</html>